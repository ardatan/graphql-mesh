// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Basket should generate the correct bundle 1`] = `
Object {
  "baseUrl": undefined,
  "name": "basket",
  "operationHeaders": Object {},
  "operations": Array [
    Object {
      "description": undefined,
      "field": "post_basket",
      "headers": Object {
        "accept": "application/json",
      },
      "method": "POST",
      "operationHeaders": undefined,
      "path": "/basket",
      "responseByStatusCode": Object {
        "200": Object {
          "responseSchema": Object {
            "$resolvedRef": "/components/schemas/BasketResponse",
            "additionalProperties": false,
            "properties": Object {
              "products": Object {
                "items": Object {
                  "$ref": "#/definitions/mutation_post_basket_oneOf_0_products_items",
                },
                "nullable": true,
                "type": "array",
              },
            },
            "title": "BasketResponse",
            "type": "object",
          },
        },
        "400": Object {
          "responseSchema": Object {
            "items": Object {
              "$resolvedRef": "/components/schemas/ApiError",
              "additionalProperties": false,
              "properties": Object {
                "code": Object {
                  "type": "string",
                },
              },
              "required": Array [
                "code",
                "description",
              ],
              "title": "ApiError",
              "type": "object",
            },
            "title": "post_basket_400_response",
            "type": "array",
          },
        },
      },
      "schemaHeaders": undefined,
      "type": "mutation",
    },
    Object {
      "description": undefined,
      "field": "customers_by_customerId",
      "headers": Object {
        "accept": "application/json",
      },
      "method": "GET",
      "operationHeaders": undefined,
      "path": "/customers/{customerId}",
      "responseByStatusCode": Object {
        "200": Object {
          "responseSchema": Object {
            "$resolvedRef": "/components/schemas/CustomerAttributes",
            "properties": Object {
              "attributes": Object {
                "items": Object {
                  "$ref": "#/definitions/Attribute",
                },
                "type": "array",
              },
            },
            "required": Array [
              "attributes",
            ],
            "title": "CustomerAttributes",
            "type": "object",
          },
        },
      },
      "schemaHeaders": undefined,
      "type": "query",
    },
    Object {
      "description": undefined,
      "field": "Locations",
      "headers": Object {
        "accept": "application/json,application/custom-thingy.v3+json",
      },
      "method": "GET",
      "operationHeaders": undefined,
      "path": "/Locations",
      "responseByStatusCode": Object {
        "200": Object {
          "responseSchema": Object {
            "oneOf": Array [
              Object {
                "items": Object {
                  "$ref": "#/definitions/LocationModel",
                },
                "type": "array",
              },
              Object {
                "items": Object {
                  "$ref": "#/definitions/LocationModel",
                },
                "type": "array",
              },
            ],
            "title": "Locations_200_response",
          },
        },
      },
      "schemaHeaders": undefined,
      "type": "query",
    },
  ],
  "referencedSchema": Object {
    "$ref": "#/definitions/_schema",
    "definitions": Object {
      "ApiBaseProduct": Object {
        "$resolvedRef": "/components/schemas/ApiBaseProduct",
        "additionalProperties": false,
        "properties": Object {
          "co2EmissionInGramsPerPassenger": Object {
            "format": "int32",
            "nullable": true,
            "type": "integer",
          },
        },
        "title": "ApiBaseProduct",
        "type": "object",
      },
      "ApiError": Object {
        "$resolvedRef": "/components/schemas/ApiError",
        "additionalProperties": false,
        "properties": Object {
          "code": Object {
            "type": "string",
          },
        },
        "required": Array [
          "code",
          "description",
        ],
        "title": "ApiError",
        "type": "object",
      },
      "ApiProduct": Object {
        "$resolvedRef": "/components/schemas/ApiProduct",
        "additionalProperties": false,
        "allOf": Array [
          Object {
            "$ref": "#/definitions/ApiBaseProduct",
          },
        ],
        "properties": Object {
          "eligibleForVouchers": Object {
            "type": "boolean",
          },
        },
        "title": "ApiProduct",
        "type": "object",
      },
      "ApiReservedProduct": Object {
        "$resolvedRef": "/components/schemas/ApiReservedProduct",
        "additionalProperties": false,
        "allOf": Array [
          Object {
            "$ref": "#/definitions/ApiBaseProduct",
          },
        ],
        "properties": Object {
          "reservationExpiresAt": Object {
            "nullable": true,
            "type": "string",
          },
        },
        "title": "ApiReservedProduct",
        "type": "object",
      },
      "Attribute": Object {
        "$resolvedRef": "/components/schemas/Attribute",
        "properties": Object {
          "more": Object {
            "$ref": "#/definitions/query_customers_by_customerId_attributes_items_more",
          },
          "name": Object {
            "type": "string",
          },
        },
        "required": Array [
          "name",
        ],
        "title": "Attribute",
        "type": "object",
      },
      "BasketResponse": Object {
        "$resolvedRef": "/components/schemas/BasketResponse",
        "additionalProperties": false,
        "properties": Object {
          "products": Object {
            "items": Object {
              "$ref": "#/definitions/mutation_post_basket_oneOf_0_products_items",
            },
            "nullable": true,
            "type": "array",
          },
        },
        "title": "BasketResponse",
        "type": "object",
      },
      "CustomerAttributes": Object {
        "$resolvedRef": "/components/schemas/CustomerAttributes",
        "properties": Object {
          "attributes": Object {
            "items": Object {
              "$ref": "#/definitions/Attribute",
            },
            "type": "array",
          },
        },
        "required": Array [
          "attributes",
        ],
        "title": "CustomerAttributes",
        "type": "object",
      },
      "LocationModel": Object {
        "$resolvedRef": "/components/schemas/LocationModel",
        "properties": Object {
          "email": Object {
            "$ref": "#/definitions/query_Locations_oneOf_0_items_email",
          },
          "parents": Object {
            "items": Object {
              "$ref": "#/definitions/LocationModel",
            },
            "type": "array",
          },
        },
        "title": "LocationModel",
        "type": "object",
      },
      "Locations_200_response": Object {
        "oneOf": Array [
          Object {
            "items": Object {
              "$ref": "#/definitions/LocationModel",
            },
            "type": "array",
          },
          Object {
            "items": Object {
              "$ref": "#/definitions/LocationModel",
            },
            "type": "array",
          },
        ],
        "title": "Locations_200_response",
      },
      "Mutation": Object {
        "properties": Object {
          "post_basket": Object {
            "$ref": "#/definitions/post_basket_response",
          },
        },
        "readOnly": true,
        "title": "Mutation",
        "type": "object",
      },
      "MutationInput": Object {
        "additionalProperties": true,
        "title": "MutationInput",
        "type": "object",
        "writeOnly": true,
      },
      "Query": Object {
        "properties": Object {
          "Locations": Object {
            "$ref": "#/definitions/Locations_200_response",
          },
          "customers_by_customerId": Object {
            "$ref": "#/definitions/CustomerAttributes",
          },
        },
        "readOnly": true,
        "title": "Query",
        "type": "object",
      },
      "QueryInput": Object {
        "additionalProperties": true,
        "title": "QueryInput",
        "type": "object",
        "writeOnly": true,
      },
      "_schema": Object {
        "properties": Object {
          "mutation": Object {
            "$ref": "#/definitions/Mutation",
          },
          "mutationInput": Object {
            "$ref": "#/definitions/MutationInput",
          },
          "query": Object {
            "$ref": "#/definitions/Query",
          },
          "queryInput": Object {
            "$ref": "#/definitions/QueryInput",
          },
        },
        "required": Array [
          "query",
        ],
        "title": "_schema",
        "type": "object",
      },
      "mutation_post_basket_oneOf_0_products_items": Object {
        "oneOf": Array [
          Object {
            "$ref": "#/definitions/ApiProduct",
          },
          Object {
            "$ref": "#/definitions/ApiReservedProduct",
          },
        ],
        "title": "mutation_post_basket_oneOf_0_products_items",
      },
      "post_basket_400_response": Object {
        "items": Object {
          "$resolvedRef": "/components/schemas/ApiError",
          "additionalProperties": false,
          "properties": Object {
            "code": Object {
              "type": "string",
            },
          },
          "required": Array [
            "code",
            "description",
          ],
          "title": "ApiError",
          "type": "object",
        },
        "title": "post_basket_400_response",
        "type": "array",
      },
      "post_basket_response": Object {
        "$comment": "statusCodeOneOfIndexMap:{\\"200\\":0,\\"400\\":1}",
        "oneOf": Array [
          Object {
            "$ref": "#/definitions/BasketResponse",
          },
          Object {
            "$ref": "#/definitions/post_basket_400_response",
          },
        ],
        "title": "post_basket_response",
      },
      "query_Locations_oneOf_0_items_email": Object {
        "pattern": "^(?(\\")(\\".+?(?<!\\\\\\\\)\\"@)|(([0-9a-zA-Z]((\\\\.(?!\\\\.))|[-!#\\\\$%&'\\\\*\\\\+/=\\\\?\\\\^\`\\\\{\\\\}\\\\|~\\\\w])*)(?<=[0-9a-zA-Z\\\\-_])@))(?(\\\\[)(\\\\[(\\\\d{1,3}\\\\.){3}\\\\d{1,3}\\\\])|(([0-9a-zA-Z][-\\\\w]*[0-9a-zA-Z]*\\\\.)+[a-zA-Z0-9][\\\\-a-zA-Z0-9]{0,22}[a-zA-Z0-9]))$",
        "title": "query_Locations_oneOf_0_items_email",
        "type": "string",
      },
      "query_customers_by_customerId_attributes_items_more": Object {
        "title": "query_customers_by_customerId_attributes_items_more",
        "type": Array [
          "string",
          "number",
          "boolean",
          "integer",
          "array",
        ],
      },
    },
  },
}
`;

exports[`Basket should generate the correct schema 1`] = `
"schema {
  query: Query
  mutation: Mutation
}

directive @oneOf on INPUT_OBJECT | FIELD_DEFINITION

type Query {
  customers_by_customerId: CustomerAttributes
  Locations: [Locations_200_response]
}

type CustomerAttributes {
  attributes: [Attribute]!
}

type Attribute {
  name: String!
  more: query_customers_by_customerId_attributes_items_more_Input
}

scalar query_customers_by_customerId_attributes_items_more_Input

union Locations_200_response = LocationModel

type LocationModel {
  email: String
  parents: [LocationModel]
}

type Mutation {
  post_basket: [post_basket_response]
}

union post_basket_response = BasketResponse | ApiError

type BasketResponse {
  products: [mutation_post_basket_oneOf_0_products_items]
}

union mutation_post_basket_oneOf_0_products_items = ApiProduct | ApiReservedProduct

type ApiProduct {
  co2EmissionInGramsPerPassenger: Int
  eligibleForVouchers: Boolean
}

type ApiReservedProduct {
  co2EmissionInGramsPerPassenger: Int
  reservationExpiresAt: String
}

type ApiError {
  code: String!
}"
`;
