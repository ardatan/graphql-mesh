---
description: Mesh Serve CLI Reference
---

import { Callout } from '@theguild/components'

## CLI Reference

An overview of all the CLI arguments and environment variables for the `mesh-serve` CLI.
[Get started with the CLI](/v1/serve/introduction).

### Arguments

<Callout>All of those can be passed in the configuration file as well</Callout>

- `--supergraph`: Path to the supergraph file in Federation Supergraph format
- `--port` or `-p`: Port to serve the supergraph (default: 4000)
- `--host` or `-h`: Host to serve the supergraph (default: localhost)
- `--fork`: Count of workers to spawn. defaults to `os.availableParallelism()` when NODE_ENV is
  "production", otherwise only one (the main) worker

**If you want to serve a single subgraph, you can use the parameter below and _NOT_ the one above:**

- `--subgraph`: Path to the subgraph file in Federation Subgraph format (conflicts with
  `--supergraph`)

### Environment Variables

These are usually used for easier usage with these two schema registry services. You don't need any
configuration file if you provide these environment variables.

For GraphQL Hive;

- `HIVE_CDN_ENDPOINT`: The endpoint of the Hive CDN to fetch the supergraph.
  [See here](/v1/serve/schema-registry/hive#fetching-supergraph-from-hive-cdn)
- `HIVE_CDN_KEY`: The API key provided by GraphQL Hive for Hive CDN.
  [See here](/v1/serve/schema-registry/hive#fetching-supergraph-from-hive-cdn)
- `HIVE_REGISTRY_TOKEN`: The token to push the metrics to GraphQL Hive.
  [See here](/v1/serve/schema-registry/hive#publishing-subgraphs-to-hive-cdn)

For Apollo GraphOS;

- `APOLLO_KEY`: The API key provided by Apollo GraphOS to fetch the supergraph.
  [See here](/v1/serve/schema-registry/graphos)
- `APOLLO_GRAPH_REF`: The API key provided by Apollo GraphOS to fetch the supergraph.
  [See here](/v1/serve/schema-registry/graphos)
