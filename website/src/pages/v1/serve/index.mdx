---
description: GraphQL Mesh Serve Runtime allows you to serve your unified supergraph GraphQL schema
---

import { Callout, Cards } from '@theguild/components'

# Mesh Serve

Mesh Serve is a GraphQL gateway for any JavaScript environment and runtime such as Node.js, Bun,
Deno, Google Cloud Functions, Azure Functions, Cloudflare Workers, and more.

Mesh Serve supports two different modes:

- **Serve a Supergraph.** Serve a supergraph provided by [GraphQL Mesh Compose](/v1/compose) or any
  other Federation compliant composition tool such as
  [Apollo Rover](https://www.apollographql.com/docs/rover/) or schema registry
  ([GraphQL Hive](https://the-guild.dev/graphql/hive),
  [Apollo GraphOS](https://www.apollographql.com/docs/graphos/))
- **Proxy a GraphQL API.** Mesh Serve can also act as a proxy to a GraphQL API for adding additional
  features such as [monitoring/tracing](/v1/serve/features/monitoring-tracing),
  [caching](/v1/serve/features/performance),
  [rate limiting](/v1/serve/features/security/rate-limiting),
  [security layers](/v1/serve/features/security) and more

## Getting Started

### Prepare a Supergraph

A Gateway for a composed supergraph file (`supergraph.graphql`) generated by
[Mesh Compose](/v1/compose), or any other compliant tool (Apollo Rover etc), or any compliant schema
registry (GraphQL Hive or Apollo GraphOS), can be served with Mesh Serve.

### Using the CLI

#### Install

To use the CLI, you need to have [Node.js](https://nodejs.org) installed in your environment. Then,
you can install Serve CLI with your favorite package manager:

```sh npm2yarn
npm i @graphql-mesh/serve-cli
```

#### Serve

Having [prepared the supergraph](#prepare-a-supergraph), serve it with:

```sh
mesh-serve supergraph
```

### Using Docker

Mesh Serve also has an
[official Docker image](https://github.com/ardatan/graphql-mesh/pkgs/container/mesh-serve) that's
easy to use and can directly replace the CLI in environments where Node.js is not present.

#### Serve

Having [prepared the supergraph](#prepare-a-supergraph), serve it with:

```sh
docker run -p 4000:4000 -v $(pwd)/supergraph.graphql:/serve/supergraph.graphql ghcr.io/ardatan/mesh-serve supergraph
```

<Callout>
  Check out the [Docker deployment guide](/v1/serve/deployment/docker) for more details on using
  Mesh Serve with Docker.
</Callout>

## Configuration

### Arguments

Mesh Serve supports basic configuration through CLI arguments.

For example, you may want to change the port:

```sh
mesh-serve supergraph --port 5000
```

The Docker image also supports arguments, simply add them to the run command:

```sh
docker run \
  -p 5000:5000 \
  -v "$(pwd)/my-schema.graphql:/serve/my-schema.graphql" \
  ghcr.io/ardatan/mesh-serve supergraph --port=5000
```

For a full list of CLI arguments, please refer to the [CLI Reference](./references/cli).

### Config File

The Mesh Serve config file is used for enabling additional features such as authorization,
authentication caching, rate limiting, and more...

You're recommended to use the `mesh.config.ts` file to configure Mesh Serve.

```ts filename="mesh.config.ts"
import { defineConfig } from '@graphql-mesh/serve-cli'

export const gatewayConfig = defineConfig({
  supergraph: 'my-schema.graphql'
})
```

Mesh Serve will automatically pick up the default config file and apply the settings. Simply start
Mesh Serve:

```sh
mesh-serve supergraph
```

However, when using Docker, you have to mount the `mesh.config.ts` file first:

```sh
docker run \
  -p 4000:4000 \
  -v "$(pwd)/mesh.config.ts:/serve/mesh.config.ts" \
  ghcr.io/ardatan/mesh-serve supergraph
```

## Proxy a GraphQL API

Mesh Serve can also act as a proxy to an existing GraphQL API. This is useful for adding additional
features such as monitoring/tracing, caching, rate limiting, security layers, and more.

You can configure Mesh Serve to proxy a GraphQL API by providing the URL of the API in the
configuration file.

```ts filename="mesh.config.ts"
import { defineConfig } from '@graphql-mesh/serve-cli'

export const gatewayConfig = defineConfig({
  proxy: {
    endpoint: 'https://example.com/graphql'
  }
})
```

Now run:

```sh
mesh-serve proxy
```

and Mesh Serve will start a gateway that proxies the GraphQL API.

## Next steps

After learning the first steps of Mesh Serve, you can explore the following topics.

<Cards>
  <Cards.Card
    arrow
    title="Serve a Supergraph from GraphQL Hive"
    href="/v1/serve/schema-registry/hive"
  />
  <Cards.Card
    arrow
    title="Serve a Supergraph from Apollo GraphOS"
    href="/v1/serve/schema-registry/graphos"
  />
  <Cards.Card
    arrow
    title="Proxy a GraphQL API"
    href="/v1/serve/references/config#configure-mesh-as-a-graphql-proxy"
  />
</Cards>
