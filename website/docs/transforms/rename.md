---
id: rename
title: Rename Transform
sidebar_label: Rename
---

The `rename` transform allow you rename GraphQL types and GraphQL fields easily. 

```
yarn add @graphql-mesh/transform-rename
```

## How to use?

Add the following configuration to your Mesh config file:

```yml
transforms:
  - rename:
      mode: bare | wrap
      renames:
        - from:
            type: ApiUser
          to:
            type: User
        - from:
            type: Query
            field: apiUser
          to:
            type: Query
            field: user
```

or you can use regular expressions to rename multiple types, fields or both

```yml
  - rename:
      mode: bare | wrap
      renames:
        - from:
            type: Api(.*)
          to:
            type: $1
          useRegExpForTypes: true

        - from:
            type: Query
            field: api(.*)
          to:
            type: Query
            field: $1
          useRegExpForFields: true

```

## Two different modes
Although apparently both `bare` and `wrap` modes do achieve the same result, when it comes to renaming; they are very different.  
Let's take a look at how they operate.

### Wrap
Wrap applies transformations by adding a wrapping layer to the original GraphQL schema. The handler generates a GrpahQL schema and passes it to the rename transform. `wrap` receives this schema and rather than updating it, it will apply a layer on top of it which scope is to provide the values exposed by the names of the original schema to the new names that you define as `renames`.  
This approach is safe as we have used it extensively in `graphql-tools`. However it does have a runtime cost, since when receiving requests and preparing responses, the wrapping layer needs to apply the `renames` on the fly on every GraphQL operation.

> NOTE: `wrap` is the only approach that works when you want to transform at all sources (root) level. If you want to remove the runtime cost, consider applying your `renames` at the data source level in order to take advantage of `bare`.

Example:
```yaml
sources:
  - name: Countries
    handler:
      soap:
        wsdl: http://webservices.../wso?WSDL
  - name: Users
    handler:
      openapi:
        source: https://api.../swagger.yaml
    transforms:
      rename:
          mode: wrap # you can use wrap here, but consider using "bare" to remove runtime cost
          renames:
            - from:
                type: User
                field: lastName
              to:
                type: User
                field: surname
transforms:
  rename:
      mode: wrap # bare won't work here at the root sources level; you can set "wrap" or simply omit the "mode" property
      renames:
        - from:
            type: Country
            field: ISO-3166_Code
          to:
            type: Country
            field: code
```

> ProTip: When you want to use `wrap`, you can omit the "mode" property since this is already applied by default.  

### Bare
Bare is a recent addition and works by applying transformations to the original schema. The handler generates a GraphQL schema and passes it to rename transform. `bare` will rename types and fields as defined in the schema generated by your handler and will return an updated version of the same schema with the transformations applied.  
When you want to rename at the source level `bare` is a great choice as it will commit the schema as part of the initialisation process and it then won't have any runtime cost.

> NOTE: `bare` won't work when you want to transform at all the sources (root) level, because at this stage it would be dealing with a composed and stitched schema and not a bare schema anymore.

Example:
```yaml
sources:
  - name: Countries
    handler:
      soap:
        wsdl: http://webservices.../wso?WSDL
  - name: Users
    handler:
      openapi:
        source: https://api.../swagger.yaml
    transforms:
      rename:
          mode: bare # bare is a great choice here, at the data source level, as it doesn't have any runtime cost
          renames:
            - from:
                type: User
                field: lastName
              to:
                type: User
                field: surname
transforms:
  rename:
      mode: wrap # bare won't work here at the root sources level, so we need to use wrap
      renames:
        - from:
            type: Country
            field: ISO-3166_Code
          to:
            type: Country
            field: code
```

## Config API Reference

{@import ../generated-markdown/RenameTransformObject.generated.md}
